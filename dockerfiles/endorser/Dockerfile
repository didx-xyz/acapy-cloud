FROM python:3.10-slim

COPY endorser /endorser
COPY shared /shared

WORKDIR /endorser

RUN pip install --no-cache-dir -r requirements.txt -r requirements.dev.txt

WORKDIR /

USER nobody

CMD ["watchfiles", "python -m endorser.main", "/endorser"]
